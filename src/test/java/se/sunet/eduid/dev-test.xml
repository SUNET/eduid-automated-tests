<!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd" >

<suite name="dev">
    <parameter name="url" value="https://dev.eduid.se" />
    <parameter name="browser" value="chrome" />
    <parameter name="headless" value="false" />
    <parameter name="language" value="sv" />
    <parameter name="testsuite" value="dev" />

  <listeners>
        <listener class-name="se.sunet.eduid.utils.AnnotationTransformer"/>
    </listeners>


    <!--

    eduidtest.se1@gmail.com
    test1eduid!


Test?=59(GG1234%€#\
default pw
lq2k dvzo 917s
mknhKYFl94fJaWaiVk2oG9Tl

ovemknhKYFl94fJaWaiVk2oG9Tl@idsec.se

https://dashboard.dev.eduid.se/services/security/reset-password/email/mknhKYFl94fJaWaiVk2oG9Tl

https://signup.dev.eduid.se/register/code/mknhKYFl94fJaWaiVk2oG9Tl

        <parameter name="setNewPassword" value="Test?=59(GG1234%€#\"/>
        <parameter name="useRecommendedPw" value="false" />

        <parameter name="passWord" value="lq2k dvzo 917s" />
                <parameter name="buttonValueConfirm" value="true" />

                            <class name="se.sunet.eduid.resetPassword.PasswordResetExtraSecuritySecurity>
                                        <class name="se.sunet.eduid.resetPassword.EmailLink" >

TODO tc with - in name, and åäö in name.
TODO - integrationstest via scim api, mfa stepup - magnus
TODO - TC when confirmed ID, then name etc should not be possible to change. at to register TC

TODO - Security key mha face ID.... Transport.Internal?

TODO - reset pw - abort i SetNewPassword klassen
TODO - Byta namn på test fallen till kategorier och sen nummer
TODO - Browserstack
TODO - Comitta!!
TODO - ignorera radbrytning på strängar från safari
TODO - Tråda
TODO - oanvända metoder i Identity - kollar labels...
TODO - Test för SecurityKey och "lägg till den här enheten"
TODO - i PAssword, bryt ut custom pw till egen klass
TODO - Göra nytt nummer som primary, logga ut och kolla att så är fallet och sen återställa

        common.verifyStringByXpath("//*[@id=\"text-content\"]/div[1]/p", "Personnumret " +
                "nedan är nu kopplat till din eduID.");
TODO - Logga in annan enhet, cancel fungerar ej i Iphone efter timer expired. Trycker man reload av sida efter exired
//så kommer man få en status dialog att något gått fel och att man ska refresha sidan.
TODO - kontrollera att scrollbar syns vid liten upplösning på alla sidor utom login page.
TODO - log in annan utrustning - testa qr koden via ett privat fönster i
            //Måste lägga till nin-cookie för att verifiera cookie name= nin, value = 197501100395
            //TC verifiera persnr med freja eid...TC?
            //TC pw reset med freja eid..
            TODO - lägga till config.propertys för verifierad identitets förnamn
            TODO - Sunet länken på startsidan... Läs mer om sunet

use this phone number range in your tests 0701740605-0701740699

Virtual auth for enhanced security (webauthn),
- https://stackoverflow.com/questions/63477115/selenium-tests-authenticate-with-webauthn
- grupper
- INVITES - provisionering
- test grundläggande ideer anpassat på eduID
- engelska språk vald och tryck på hjälp - hjälptexten ska då vara på engelska
- Bättre felmeddelande när man avbryter vid extra security key  -  advanced settings

- hjälp länken fungerar inte vid 2faktorinloggning
- test där en bekräftad identitet, sen skapa ny user som bekräftar samma identitet. logga in och kolla i första att den ej längre är bekräftad
- samma som ovan men med telefonnummer


Extra security pw reset - svenska kontot byt till identitet
"A password reset " +
                "using an extra security option will keep your identity confirmed.");
                "Genom att " +
                "återställa lösenordet med ett extra säkerhetsalternativ så kommer kontot att förbli verifierat.");
-->

    <!--

eduidtest.se1@gmail.com
test1eduid!

-->

    <!--   40, 45, 58, 51, 52, 52, 55
        <parameter name="url" value="https://mfa-check.swamid.se" />

        <test name="TC_50">
        <parameter name="testDescription" value="Verify that MFA connection for Freja eID, using swamid Test, is working" />
        <classes>
            <class name="se.sunet.eduid.TC_50" >
            </class>
        </classes>
    </test>
    -->

<!--
freja som mfa metod,
verifiera personnummer med freja


15, 43
    -->

<!--95lk 734z 39da.

57

-->

    <test name="TC_59">
        <parameter name="testDescription" value="Verify text on 'About Sunet' page" />
        <classes>
            <class name="se.sunet.eduid.TC_59" >
            </class>
        </classes>
    </test>

</suite>

<!--

I went through all places where the magic cookie is used so you can check if something is missing in your tests
https://eidas.dev.eduid.se/verify-nin  (verify identity using Freja eID)
https://dashboard.dev.eduid.se/services/email/get-code?eppn=x&email=x  (verify mail address)
https://dashboard.dev.eduid.se/services/letter-proofing/get-code  (verify identity using letter)
lookup-mobile-proofing  (verifying identity using phone number should just work if the cookie is set, no need for any extra request (you get your names set to Magic Cookie))
https://dashboard.dev.eduid.se/services/phone/get-code?eppn=x&phone=x  (verify phone number)
https://dashboard.dev.eduid.se/services/security/reset-password/get-email-code?eppn=x  (reset password, step 1)
https://dashboard.dev.eduid.se/services/security/reset-password/get-phone-code?eppn=x  (reset password extra security) (edited)
-->